---
source: crates/mesh-parser/tests/parser_tests.rs
expression: source_and_debug(source)
---
SOURCE_FILE@0..188
  FN_DEF@0..23
    FN_KW@0..2 "fn"
    NAME@2..7
      IDENT@2..7 "apply"
    PARAM_LIST@7..12
      L_PAREN@7..8 "("
      PARAM@8..9
        IDENT@8..9 "f"
      COMMA@9..10 ","
      PARAM@10..11
        IDENT@10..11 "x"
      R_PAREN@11..12 ")"
    DO_KW@12..14 "do"
    BLOCK@14..20
      NEWLINE@14..15 "\n"
      CALL_EXPR@15..19
        NAME_REF@15..16
          IDENT@15..16 "f"
        ARG_LIST@16..19
          L_PAREN@16..17 "("
          NAME_REF@17..18
            IDENT@17..18 "x"
          R_PAREN@18..19 ")"
      NEWLINE@19..20 "\n"
    END_KW@20..23 "end"
  NEWLINE@23..24 "\n"
  NEWLINE@24..25 "\n"
  FN_DEF@25..63
    FN_KW@25..27 "fn"
    NAME@27..34
      IDENT@27..34 "compose"
    PARAM_LIST@34..39
      L_PAREN@34..35 "("
      PARAM@35..36
        IDENT@35..36 "f"
      COMMA@36..37 ","
      PARAM@37..38
        IDENT@37..38 "g"
      R_PAREN@38..39 ")"
    DO_KW@39..41 "do"
    BLOCK@41..60
      NEWLINE@41..42 "\n"
      CLOSURE_EXPR@42..59
        FN_KW@42..44 "fn"
        PARAM_LIST@44..47
          L_PAREN@44..45 "("
          PARAM@45..46
            IDENT@45..46 "x"
          R_PAREN@46..47 ")"
        ARROW@47..49 "->"
        BLOCK@49..56
          CALL_EXPR@49..56
            NAME_REF@49..50
              IDENT@49..50 "f"
            ARG_LIST@50..56
              L_PAREN@50..51 "("
              CALL_EXPR@51..55
                NAME_REF@51..52
                  IDENT@51..52 "g"
                ARG_LIST@52..55
                  L_PAREN@52..53 "("
                  NAME_REF@53..54
                    IDENT@53..54 "x"
                  R_PAREN@54..55 ")"
              R_PAREN@55..56 ")"
        END_KW@56..59 "end"
      NEWLINE@59..60 "\n"
    END_KW@60..63 "end"
  NEWLINE@63..64 "\n"
  NEWLINE@64..65 "\n"
  FN_DEF@65..188
    FN_KW@65..67 "fn"
    NAME@67..71
      IDENT@67..71 "main"
    PARAM_LIST@71..73
      L_PAREN@71..72 "("
      R_PAREN@72..73 ")"
    DO_KW@73..75 "do"
    BLOCK@75..185
      NEWLINE@75..76 "\n"
      LET_BINDING@76..99
        LET_KW@76..79 "let"
        NAME@79..85
          IDENT@79..85 "double"
        EQ@85..86 "="
        CLOSURE_EXPR@86..99
          FN_KW@86..88 "fn"
          PARAM_LIST@88..91
            L_PAREN@88..89 "("
            PARAM@89..90
              IDENT@89..90 "x"
            R_PAREN@90..91 ")"
          ARROW@91..93 "->"
          BLOCK@93..96
            BINARY_EXPR@93..96
              NAME_REF@93..94
                IDENT@93..94 "x"
              STAR@94..95 "*"
              LITERAL@95..96
                INT_LITERAL@95..96 "2"
          END_KW@96..99 "end"
      NEWLINE@99..100 "\n"
      LET_BINDING@100..120
        LET_KW@100..103 "let"
        NAME@103..106
          IDENT@103..106 "inc"
        EQ@106..107 "="
        CLOSURE_EXPR@107..120
          FN_KW@107..109 "fn"
          PARAM_LIST@109..112
            L_PAREN@109..110 "("
            PARAM@110..111
              IDENT@110..111 "x"
            R_PAREN@111..112 ")"
          ARROW@112..114 "->"
          BLOCK@114..117
            BINARY_EXPR@114..117
              NAME_REF@114..115
                IDENT@114..115 "x"
              PLUS@115..116 "+"
              LITERAL@116..117
                INT_LITERAL@116..117 "1"
          END_KW@117..120 "end"
      NEWLINE@120..121 "\n"
      LET_BINDING@121..159
        LET_KW@121..124 "let"
        NAME@124..139
          IDENT@124..139 "double_then_inc"
        EQ@139..140 "="
        CALL_EXPR@140..159
          NAME_REF@140..147
            IDENT@140..147 "compose"
          ARG_LIST@147..159
            L_PAREN@147..148 "("
            NAME_REF@148..151
              IDENT@148..151 "inc"
            COMMA@151..152 ","
            NAME_REF@152..158
              IDENT@152..158 "double"
            R_PAREN@158..159 ")"
      NEWLINE@159..160 "\n"
      CALL_EXPR@160..184
        NAME_REF@160..165
          IDENT@160..165 "apply"
        ARG_LIST@165..184
          L_PAREN@165..166 "("
          NAME_REF@166..181
            IDENT@166..181 "double_then_inc"
          COMMA@181..182 ","
          LITERAL@182..183
            INT_LITERAL@182..183 "5"
          R_PAREN@183..184 ")"
      NEWLINE@184..185 "\n"
    END_KW@185..188 "end"
  EOF@188..188 ""
